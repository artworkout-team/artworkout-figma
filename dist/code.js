!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/",n(n.s=655)}({0:function(e,t,n){"use strict";e.exports=n(161)},1:function(e,t,n){"use strict";n.d(t,"e",(function(){return o})),n.d(t,"f",(function(){return i})),n.d(t,"l",(function(){return s})),n.d(t,"k",(function(){return c})),n.d(t,"o",(function(){return a})),n.d(t,"j",(function(){return u})),n.d(t,"a",(function(){return l})),n.d(t,"i",(function(){return f})),n.d(t,"q",(function(){return d})),n.d(t,"r",(function(){return p})),n.d(t,"d",(function(){return m})),n.d(t,"b",(function(){return h})),n.d(t,"n",(function(){return g})),n.d(t,"s",(function(){return b})),n.d(t,"t",(function(){return y})),n.d(t,"c",(function(){return O})),n.d(t,"h",(function(){return v})),n.d(t,"g",(function(){return j})),n.d(t,"m",(function(){return P})),n.d(t,"p",(function(){return E}));var r=n(43);function o(e,t){let n=[];t(e)&&n.push(e);const r=e.children;return r&&(n=n.concat(r.flatMap(e=>o(e,t)))),n}function i(e){return"children"in e?e.findAll(e=>!("children"in e)):[e]}function s(e){return e.parent.children.findIndex(t=>t.id===e.id)}function c(){return figma.currentPage.children.find(e=>"lesson"===e.name)}function a(e){var t;return(null==e?void 0:e.name)?null===(t=null==e?void 0:e.name)||void 0===t?void 0:t.split(" ").filter(Boolean):[]}function u(e,t){return a(e).find(e=>t.test(e))}function l(e,t){e.name=a(e).concat([t]).join(" ")}function f(e,t){return function e(t,n){return n(t)?t:(null==t?void 0:t.parent)?e(t.parent,n):void 0}(e,e=>a(e).includes(t))}function d(e){return e&&a(e).includes("s-multistep-result")}function p(e){Object(r.a)("print",e)}function m(e){figma.notify(e)}const h=e=>e.charAt(0).toUpperCase()+e.slice(1);function g(e){const t=/^o-(\d+)$/,n=a(e).find(e=>e.match(t));if(n)return Number(n.match(t)[1])}function b(e){e?figma.ui.resize(900,470):figma.ui.resize(340,470)}function y(e,t){a(e).some(e=>/^o-\d+$/.test(e))?e.name=e.name.replace(/o-\d+/,"o-"+t):e.name+=" o-"+t}function O(e){return e.children?e.children.flatMap(e=>function e(t){return t.children?[t,...t.children.flatMap(t=>e(t))]:[t]}(e)):[]}function v(e){return e.find(e=>a(e).includes("s-multistep-brush"))}function j(e){return e.children.find(e=>"lesson"==e.name)}function P(e,t){for(let n of e){const e=n.match(t);if(e)return parseInt(e[1])}return 0}function E(e){return u(e,/^rgb-template$/)||f(e,"rgb-template")}},119:function(e,t){e.exports.ParseError=class extends Error{constructor(e){super("Parse error"),this.data=e,this.statusCode=-32700}},e.exports.InvalidRequest=class extends Error{constructor(e){super("Invalid Request"),this.data=e,this.statusCode=-32600}},e.exports.MethodNotFound=class extends Error{constructor(e){super("Method not found"),this.data=e,this.statusCode=-32601}},e.exports.InvalidParams=class extends Error{constructor(e){super("Invalid params"),this.data=e,this.statusCode=-32602}},e.exports.InternalError=class extends Error{constructor(e){super("Internal error"),this.data=e,this.statusCode=-32603}}},120:function(e,t,n){"use strict";n.r(t),n.d(t,"affectedToPathList",(function(){return O})),n.d(t,"createProxy",(function(){return p})),n.d(t,"getUntracked",(function(){return b})),n.d(t,"isChanged",(function(){return h})),n.d(t,"markToTrack",(function(){return y})),n.d(t,"replaceNewProxy",(function(){return v})),n.d(t,"trackMemo",(function(){return g}));const r=Symbol(),o=Symbol(),i=Symbol();let s=(e,t)=>new Proxy(e,t);const c=Object.getPrototypeOf,a=new WeakMap,u=e=>e&&(a.has(e)?a.get(e):c(e)===Object.prototype||c(e)===Array.prototype),l=e=>"object"==typeof e&&null!==e,f=new WeakMap,d=e=>e[i]||e,p=(e,t,n)=>{if(!u(e))return e;const a=d(e),l=(e=>Object.isFrozen(e)||Object.values(Object.getOwnPropertyDescriptors(e)).some(e=>!e.writable))(a);let m=n&&n.get(a);return m&&m[1].f===l||(m=((e,t)=>{const n={f:t};let s=!1;const c=(t,o)=>{if(!s){let i=n.a.get(e);i||(i=new Set,n.a.set(e,i)),o&&i.has(r)||i.add(t)}},a={get:(t,r)=>r===i?e:(c(r),p(t[r],n.a,n.c)),has:(t,r)=>r===o?(s=!0,n.a.delete(e),!0):(c(r),r in t),getOwnPropertyDescriptor:(e,t)=>(c(t,!0),Object.getOwnPropertyDescriptor(e,t)),ownKeys:e=>(c(r),Reflect.ownKeys(e))};return t&&(a.set=a.deleteProperty=()=>!1),[a,n]})(a,l),m[1].p=s(l?(e=>{let t=f.get(e);if(!t){if(Array.isArray(e))t=Array.from(e);else{const n=Object.getOwnPropertyDescriptors(e);Object.values(n).forEach(e=>{e.configurable=!0}),t=Object.create(c(e),n)}f.set(e,t)}return t})(a):a,m[0]),n&&n.set(a,m)),m[1].a=t,m[1].c=n,m[1].p},m=(e,t)=>{const n=Reflect.ownKeys(e),r=Reflect.ownKeys(t);return n.length!==r.length||n.some((e,t)=>e!==r[t])},h=(e,t,n,o)=>{if(Object.is(e,t))return!1;if(!l(e)||!l(t))return!0;const i=n.get(d(e));if(!i)return!0;if(o){const n=o.get(e);if(n&&n.n===t)return n.g;o.set(e,{n:t,g:!1})}let s=null;for(const c of i){const i=c===r?m(e,t):h(e[c],t[c],n,o);if(!0!==i&&!1!==i||(s=i),s)break}return null===s&&(s=!0),o&&o.set(e,{n:t,g:s}),s},g=e=>!!u(e)&&o in e,b=e=>u(e)&&e[i]||null,y=(e,t=!0)=>{a.set(e,t)},O=(e,t)=>{const n=[],r=new WeakSet,o=(e,i)=>{if(r.has(e))return;l(e)&&r.add(e);const s=l(e)&&t.get(d(e));s?s.forEach(t=>{o(e[t],i?[...i,t]:[t])}):i&&n.push(i)};return o(e),n},v=e=>{s=e}},13:function(e,t,n){"use strict";n.d(t,"b",(function(){return p})),n.d(t,"c",(function(){return m})),n.d(t,"d",(function(){return b})),n.d(t,"f",(function(){return y})),n.d(t,"g",(function(){return O})),n.d(t,"a",(function(){return v})),n.d(t,"e",(function(){return j}));var r=n(1),o=n(5),i=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{a(r.next(e))}catch(e){i(e)}}function c(e){try{a(r.throw(e))}catch(e){i(e)}}function a(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,c)}a((r=r.apply(e,t||[])).next())}))};function s(e){const t=Object(r.o)(e).find(e=>e.startsWith("o-"))||"",n=parseInt(t.replace("o-",""));return isNaN(n)?9999:n}function c(e,t){const n=Object(r.o)(e).find(e=>e.startsWith(t));return n?n.replace(t,""):null}function a(e){return e.children.filter(e=>Object(r.o)(e).includes("step")).sort((e,t)=>s(e)-s(t))}function u(e){Object(r.o)(e).includes("settings")?e.visible=!1:Object(r.o)(e).includes("rgb-template")&&/GROUP|BOOLEAN_OPERATION/.test(e.type)||e.children.forEach(e=>/GROUP|BOOLEAN_OPERATION/.test(e.type)?u(e):/RECTANGLE|ELLIPSE|VECTOR|TEXT/.test(e.type)&&!Object(r.o)(e).includes("rgb-template")?e.visible=!1:void 0)}let l="all",f=null,d=1;function p(e){(e||figma.currentPage).findAll(e=>e.name.startsWith("tmp-")).forEach(e=>e.remove())}function m(e,t){const n=e||Object(r.k)();p(),n.children.forEach(e=>{e.visible=!0}),t&&(l="all")}function h(e,t){const n="multistep-bg"==c(t,"s-")?12.8:10,r=parseInt(c(t,"bs-"))||n,o=figma.createLine();o.name="smallLine",o.resize(300,0),o.strokes=[{type:"SOLID",color:{r:0,g:.8,b:0}}],o.strokeWeight=r/3,o.strokeCap="ROUND",o.strokeAlign="CENTER",o.y=o.strokeWeight/2;const i=o.clone();i.name="mediumLine",i.opacity=.2,i.strokeWeight=r,i.y=i.strokeWeight/2;const s=o.clone();s.name="bigLine",s.opacity=.1,s.strokeWeight=r+.8*Math.pow(r,1.4),s.y=s.strokeWeight/2;const a=figma.group([s,i,o],e.parent);a.name="tmp-bs",a.x=e.x,a.y=e.y-80}function g(e){const t=Object(r.o)(e).filter(e=>e.startsWith("clear-layer-"));if(1!==t.length)return[];return t[0].slice("clear-layer-".length).split(",").map(Number)}function b(e){let t=Object(r.k)();const n=figma.currentPage;if(!t)return;let o,i=a(t);const s=Object(r.h)(i.slice(e));if(s)return void(figma.currentPage.selection=[s]);const c=figma.root.children;o=c.slice(c.indexOf(t.parent)+1).reduce((e,t)=>{if(e)return e;const o=Object(r.g)(t);if(!o)return null;const i=a(o),s=Object(r.h)(i);return s?(p(n),figma.currentPage=t,s):null},null),o&&(figma.currentPage.selection=[o])}function y(e,t){return i(this,void 0,void 0,(function*(){t=t||figma.currentPage,l=e.displayMode,d=e.stepNumber;const{displayMode:n,stepNumber:i}=e,s=Object(r.g)(t);if(!s)return;const b=a(s)[i-1];t.selection=[b];const y=s.children.filter(e=>Object(r.o)(e).includes("step")).length,O=function(e){const t=Object(r.f)(e).filter(e=>"strokes"in e&&e.strokes.length>0),n=t.map(e=>e.strokeWeight||0),o=Math.max(...n);return t.length>0?o:25}(b),v=c(b,"brush-name-")||"";let j=Object(r.o)(b).includes("clear-before")?[...Array(i).keys()].slice(1):g(b);switch(yield o.b.updateUiProps({shadowSize:parseInt(c(b,"ss-"))||0,brushSize:parseInt(c(b,"bs-"))||0,suggestedBrushSize:Object(r.q)(b)?0:O,template:c(b,"s-")||"0",stepCount:y,stepNumber:i,displayMode:n,clearBefore:Object(r.o)(b).includes("clear-before"),clearLayers:j.map(e=>e.toString())||[],otherTags:Object(r.o)(b).filter(e=>e.startsWith("share-button")||e.startsWith("allow-undo"))||[],brushType:v}),yield o.b.setStepNavigationProps(i,n),p(),f&&f!=t&&m(f.children.find(e=>"lesson"==e.name)),f=t,function(e){(e||figma.currentPage).findAll(e=>e.visible=!0)}(s),n){case"all":m(s,!0);break;case"current":if(h(s,b),s.children.forEach(e=>{e.visible=!1}),b.visible=!0,"GROUP"===b.type){const e=b.findChild(e=>"template"==e.name);e&&(e.visible=!1)}break;case"previous":h(s,b),a(s).forEach((e,t)=>{e.visible=t<i}),function(e,t){const n=Object(r.n)(t),o=e.children.map(e=>Object(r.n)(e));return e.children.reduce((e,t)=>{if("GROUP"!==t.type||Object(r.n)(t)>n)return e;if(Object(r.o)(t).includes("clear-before")){[...Array(Object(r.n)(t)).keys()].slice(1).forEach(t=>{o.includes(t)&&e.add(o.indexOf(t))})}return g(t).forEach(t=>e.add(t)),e},new Set)}(s,b).forEach(e=>{s.children[e].visible=!1}),s.children.forEach(e=>u(e));break;case"template":h(s,b),function(e,t){e.children.forEach(e=>{e.visible=!1});const n=t.findChild(e=>"input"==e.name);if(!n)return;let o=n.clone();o.name="tmp-template",o.findAll(e=>Object(r.o)(e).includes("rgb-template")).map(e=>Object(r.f)(e)).flat().filter(e=>/RECTANGLE|ELLIPSE|VECTOR|TEXT/.test(e.type)).forEach(e=>{const n="multistep-bg"==c(t,"s-")?30:50,r=parseInt(c(t,"ss-"))||n;if(e.strokes.length>0&&e.fills.length>0){const t=e.clone();t.strokes=[{type:"SOLID",color:{r:0,g:1,b:0}}],t.strokeWeight+=r,t.name="rgb-template green "+e.name,o.appendChild(t),t.relativeTransform=e.relativeTransform}if(e.strokes.length>0&&!e.fills.length){const t=e.clone();t.strokes=[{type:"SOLID",color:{r:0,g:1,b:0}}],t.strokeWeight=1.1*r,t.name="rgb-template green "+e.name,o.appendChild(t),t.relativeTransform=e.relativeTransform}if(e.fills.length>0&&!e.strokes.length){const t=e.clone();t.strokes=[{type:"SOLID",color:{r:0,g:1,b:0}}],t.strokeWeight=r,t.name="rgb-template green "+e.name,o.appendChild(t),t.relativeTransform=e.relativeTransform}if(e.strokes.length>0){const t=e.clone();t.strokes=[{type:"SOLID",color:{r:0,g:0,b:1}}],t.strokeWeight=r,o.appendChild(t),t.relativeTransform=e.relativeTransform;const n=e.clone();n.strokes=[{type:"SOLID",color:{r:1,g:0,b:1}}],n.strokeWeight=2,n.name="rgb-template pink "+e.name,o.appendChild(n),n.relativeTransform=e.relativeTransform}if(e.fills.length>0){const t=e.clone();t.fills=[{type:"SOLID",color:{r:0,g:0,b:1}}],t.name="rgb-template blue "+e.name,o.appendChild(t),t.relativeTransform=e.relativeTransform}}),u(o),e.appendChild(o),o.relativeTransform=n.relativeTransform;const i=t.findChild(e=>Object(r.o)(e).includes("template"));i&&(t.visible=!0,n.visible=!1,i.visible=!0)}(s,b)}}))}function O(e){const t=a(Object(r.k)())[e.stepNumber-1];let n=Object(r.o)(t).filter(e=>!(e.startsWith("ss-")||e.startsWith("bs-")||e.startsWith("s-")||e.startsWith("clear-layer-")||e.startsWith("clear-before")||e.startsWith("share-button")||e.startsWith("allow-undo")||e.startsWith("brush-name-")));e.template&&n.splice(1,0,"s-"+e.template),e.shadowSize&&n.push("ss-"+e.shadowSize),e.brushSize&&n.push("bs-"+e.brushSize),e.brushType&&n.push("brush-name-"+e.brushType),e.clearLayers.length>0&&(e.clearBefore||n.push("clear-layer-"+e.clearLayers.join(","))),e.clearBefore&&n.push("clear-before"),e.otherTags.length>0&&(n=n.concat(e.otherTags)),void 0!==e.animationTag&&function(e,t,n,o){if(figma.currentPage.selection){let e=Object(r.o)(figma.currentPage.selection[0]).filter(e=>!/^(wiggle|fly-from-|appear$|blink$|draw-line|[dr]-?\d+$)/g.test(e));t?(e.push(t),n&&e.push("d"+n),o&&e.push("r"+o),figma.currentPage.selection[0].name=e.join(" ")):figma.currentPage.selection[0].name=e.join(" ")}}(0,e.animationTag,e.delay,e.repeat),t.name=n.join(" ")}function v(){const e=figma.currentPage.selection[0],t=Object(r.k)();if(!e||!t||!t.children.includes(e))return void y({displayMode:l,stepNumber:1},figma.currentPage);const n=figma.currentPage.selection[0],o=a(t).indexOf(n)+1;y({displayMode:l,stepNumber:o||1},figma.currentPage)}function j(){return i(this,void 0,void 0,(function*(){const e=Object(r.k)(),t=figma.currentPage.selection[0];if(t||e||"FRAME"!==t.type){const n=Object(r.o)(t),i=n.find(e=>/^wiggle|^fly-from-|^appear|^blink|^draw-line/.test(e)),s=Object(r.m)(n,/^d-?(\d+)/),c=Object(r.m)(n,/^r-?(\d+)/);yield o.b.setAnimationTags(i,s,c);const u=Object(r.i)(t,"step"),f=a(e).indexOf(u)>=0?a(e).indexOf(u)+1:d;yield o.b.setStepNavigationProps(f,l)}if(!t||!e||!e.children.includes(t))return;const n=figma.currentPage.selection[0],i=a(e).indexOf(n)>=0?a(e).indexOf(n)+1:d;y({displayMode:l,stepNumber:i},figma.currentPage)}))}},137:function(e,t,n){"use strict";
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var r=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable;function s(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var n,c,a=s(e),u=1;u<arguments.length;u++){for(var l in n=Object(arguments[u]))o.call(n,l)&&(a[l]=n[l]);if(r){c=r(n);for(var f=0;f<c.length;f++)i.call(n,c[f])&&(a[c[f]]=n[c[f]])}}return a}},161:function(e,t,n){"use strict";
/** @license React v16.14.0
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r=n(137),o="function"==typeof Symbol&&Symbol.for,i=o?Symbol.for("react.element"):60103,s=o?Symbol.for("react.portal"):60106,c=o?Symbol.for("react.fragment"):60107,a=o?Symbol.for("react.strict_mode"):60108,u=o?Symbol.for("react.profiler"):60114,l=o?Symbol.for("react.provider"):60109,f=o?Symbol.for("react.context"):60110,d=o?Symbol.for("react.forward_ref"):60112,p=o?Symbol.for("react.suspense"):60113,m=o?Symbol.for("react.memo"):60115,h=o?Symbol.for("react.lazy"):60116,g="function"==typeof Symbol&&Symbol.iterator;function b(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},O={};function v(e,t,n){this.props=e,this.context=t,this.refs=O,this.updater=n||y}function j(){}function P(e,t,n){this.props=e,this.context=t,this.refs=O,this.updater=n||y}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error(b(85));this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},j.prototype=v.prototype;var E=P.prototype=new j;E.constructor=P,r(E,v.prototype),E.isPureReactComponent=!0;var w={current:null},S=Object.prototype.hasOwnProperty,k={key:!0,ref:!0,__self:!0,__source:!0};function $(e,t,n){var r,o={},s=null,c=null;if(null!=t)for(r in void 0!==t.ref&&(c=t.ref),void 0!==t.key&&(s=""+t.key),t)S.call(t,r)&&!k.hasOwnProperty(r)&&(o[r]=t[r]);var a=arguments.length-2;if(1===a)o.children=n;else if(1<a){for(var u=Array(a),l=0;l<a;l++)u[l]=arguments[l+2];o.children=u}if(e&&e.defaultProps)for(r in a=e.defaultProps)void 0===o[r]&&(o[r]=a[r]);return{$$typeof:i,type:e,key:s,ref:c,props:o,_owner:w.current}}function x(e){return"object"==typeof e&&null!==e&&e.$$typeof===i}var N=/\/+/g,M=[];function R(e,t,n,r){if(M.length){var o=M.pop();return o.result=e,o.keyPrefix=t,o.func=n,o.context=r,o.count=0,o}return{result:e,keyPrefix:t,func:n,context:r,count:0}}function T(e){e.result=null,e.keyPrefix=null,e.func=null,e.context=null,e.count=0,10>M.length&&M.push(e)}function C(e,t,n){return null==e?0:function e(t,n,r,o){var c=typeof t;"undefined"!==c&&"boolean"!==c||(t=null);var a=!1;if(null===t)a=!0;else switch(c){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case i:case s:a=!0}}if(a)return r(o,t,""===n?"."+I(t,0):n),1;if(a=0,n=""===n?".":n+":",Array.isArray(t))for(var u=0;u<t.length;u++){var l=n+I(c=t[u],u);a+=e(c,l,r,o)}else if(null===t||"object"!=typeof t?l=null:l="function"==typeof(l=g&&t[g]||t["@@iterator"])?l:null,"function"==typeof l)for(t=l.call(t),u=0;!(c=t.next()).done;)a+=e(c=c.value,l=n+I(c,u++),r,o);else if("object"===c)throw r=""+t,Error(b(31,"[object Object]"===r?"object with keys {"+Object.keys(t).join(", ")+"}":r,""));return a}(e,"",t,n)}function I(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+(""+e).replace(/[=:]/g,(function(e){return t[e]}))}(e.key):t.toString(36)}function A(e,t){e.func.call(e.context,t,e.count++)}function W(e,t,n){var r=e.result,o=e.keyPrefix;e=e.func.call(e.context,t,e.count++),Array.isArray(e)?L(e,r,n,(function(e){return e})):null!=e&&(x(e)&&(e=function(e,t){return{$$typeof:i,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(e,o+(!e.key||t&&t.key===e.key?"":(""+e.key).replace(N,"$&/")+"/")+n)),r.push(e))}function L(e,t,n,r,o){var i="";null!=n&&(i=(""+n).replace(N,"$&/")+"/"),C(e,W,t=R(t,i,r,o)),T(t)}var _={current:null};function U(){var e=_.current;if(null===e)throw Error(b(321));return e}var D={ReactCurrentDispatcher:_,ReactCurrentBatchConfig:{suspense:null},ReactCurrentOwner:w,IsSomeRendererActing:{current:!1},assign:r};t.Children={map:function(e,t,n){if(null==e)return e;var r=[];return L(e,r,null,t,n),r},forEach:function(e,t,n){if(null==e)return e;C(e,A,t=R(null,null,t,n)),T(t)},count:function(e){return C(e,(function(){return null}),null)},toArray:function(e){var t=[];return L(e,t,null,(function(e){return e})),t},only:function(e){if(!x(e))throw Error(b(143));return e}},t.Component=v,t.Fragment=c,t.Profiler=u,t.PureComponent=P,t.StrictMode=a,t.Suspense=p,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D,t.cloneElement=function(e,t,n){if(null==e)throw Error(b(267,e));var o=r({},e.props),s=e.key,c=e.ref,a=e._owner;if(null!=t){if(void 0!==t.ref&&(c=t.ref,a=w.current),void 0!==t.key&&(s=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(l in t)S.call(t,l)&&!k.hasOwnProperty(l)&&(o[l]=void 0===t[l]&&void 0!==u?u[l]:t[l])}var l=arguments.length-2;if(1===l)o.children=n;else if(1<l){u=Array(l);for(var f=0;f<l;f++)u[f]=arguments[f+2];o.children=u}return{$$typeof:i,type:e.type,key:s,ref:c,props:o,_owner:a}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:f,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:l,_context:e},e.Consumer=e},t.createElement=$,t.createFactory=function(e){var t=$.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:d,render:e}},t.isValidElement=x,t.lazy=function(e){return{$$typeof:h,_ctor:e,_status:-1,_result:null}},t.memo=function(e,t){return{$$typeof:m,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return U().useCallback(e,t)},t.useContext=function(e,t){return U().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return U().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return U().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return U().useLayoutEffect(e,t)},t.useMemo=function(e,t){return U().useMemo(e,t)},t.useReducer=function(e,t,n){return U().useReducer(e,t,n)},t.useRef=function(e){return U().useRef(e)},t.useState=function(e){return U().useState(e)},t.version="16.14.0"},162:function(e,t,n){const r=n(119),{MethodNotFound:o}=n(119);let i;"undefined"!=typeof figma?(figma.ui.on("message",e=>f(e)),i=e=>figma.ui.postMessage(e)):"undefined"!=typeof parent&&(onmessage=e=>f(e.data.pluginMessage),i=e=>parent.postMessage({pluginMessage:e},"*"));let s=0,c={};function a(e){try{i(e)}catch(e){console.error(e)}}function u(e,t){a({jsonrpc:"2.0",id:e,result:t})}function l(e,t){a({jsonrpc:"2.0",id:e,error:{code:t.code,message:t.message,data:t.data}})}function f(e){try{if(!e)return;!function(e){if(void 0!==e.id)if(void 0!==e.result||e.error||void 0===e.method){const t=c[e.id];if(!t)return void l(e.id,new r.InvalidRequest("Missing callback for "+e.id));t.timeout&&clearTimeout(t.timeout),delete c[e.id],t(e.error,e.result)}else!function(e){if(!e.method)return void l(e.id,new r.InvalidRequest("Missing method"));try{const t=p(e.method,e.params);t&&"function"==typeof t.then?t.then(t=>u(e.id,t)).catch(t=>l(e.id,t)):u(e.id,t)}catch(t){l(e.id,t)}}(e);else!function(e){if(!e.method)return;p(e.method,e.params)}(e)}(e)}catch(t){console.error(t),console.error(e)}}let d={};function p(e,t){if(!d[e])throw new o(e);return d[e](...t)}e.exports.setup=e=>{Object.assign(d,e)},e.exports.sendNotification=(e,t)=>{a({jsonrpc:"2.0",method:e,params:t})},e.exports.sendRequest=(e,t,n)=>new Promise((r,o)=>{const i=s,u={jsonrpc:"2.0",method:e,params:t,id:i};s+=1;const l=(e,t)=>{if(e){const t=new Error(e.message);return t.code=e.code,t.data=e.data,void o(t)}r(t)};l.timeout=setTimeout(()=>{delete c[i],o(new Error("Request "+e+" timed out."))},n||3e3),c[i]=l,a(u)}),e.exports.RPCError=r},163:function(e,t,n){"use strict";e.exports=n(164)},164:function(e,t,n){"use strict";
/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r=n(0);var o="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},i=r.useState,s=r.useEffect,c=r.useLayoutEffect,a=r.useDebugValue;function u(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!o(e,n)}catch(e){return!0}}var l="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),r=i({inst:{value:n,getSnapshot:t}}),o=r[0].inst,l=r[1];return c((function(){o.value=n,o.getSnapshot=t,u(o)&&l({inst:o})}),[e,n,t]),s((function(){return u(o)&&l({inst:o}),e((function(){u(o)&&l({inst:o})}))}),[e]),a(n),n};t.useSyncExternalStore=void 0!==r.useSyncExternalStore?r.useSyncExternalStore:l},165:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(120),o=Symbol(),i=Symbol(),s=Symbol(),c=Symbol(),a=Symbol(),u=Symbol(),l=new WeakSet;var f=function(e){return"object"==typeof e&&null!==e},d=function(e){return f(e)&&!l.has(e)&&(Array.isArray(e)||!(Symbol.iterator in e))&&!(e instanceof WeakMap)&&!(e instanceof WeakSet)&&!(e instanceof Error)&&!(e instanceof Number)&&!(e instanceof Date)&&!(e instanceof String)&&!(e instanceof RegExp)&&!(e instanceof ArrayBuffer)},p=new WeakMap,m=1,h=new WeakMap;t.getHandler=function(e){return e[c]},t.getVersion=function(e){return f(e)?e[o]:void 0},t.proxy=function e(t){if(void 0===t&&(t={}),!f(t))throw new Error("object required");var n=p.get(t);if(n)return n;var g=m,b=new Set,y=function(e,t){void 0===t&&(t=++m),g!==t&&(g=t,b.forEach((function(n){return n(e,t)})))},O=new Map,v=function(e){var t=O.get(e);return t||(t=function(t,n){var r=[].concat(t);r[1]=[e].concat(r[1]),y(r,n)},O.set(e,t)),t},j=function(e){var t=O.get(e);return O.delete(e),t},P=Array.isArray(t)?[]:Object.create(Object.getPrototypeOf(t)),E={get:function(e,t,n){return t===o?g:t===i?b:t===s?function(e,t){var n=h.get(t);if((null==n?void 0:n[0])===g)return n[1];var o=Array.isArray(e)?[]:Object.create(Object.getPrototypeOf(e));return r.markToTrack(o,!0),h.set(t,[g,o]),Reflect.ownKeys(e).forEach((function(n){var c=Reflect.get(e,n,t);if(l.has(c))r.markToTrack(c,!1),o[n]=c;else if(c instanceof Promise)if(a in c)o[n]=c[a];else{var f=c[u]||c;Object.defineProperty(o,n,{get:function(){if(a in c)return c[a];throw f}})}else null!=c&&c[i]?o[n]=c[s]:o[n]=c})),Object.freeze(o)}(e,n):t===c?E:Reflect.get(e,t,n)},deleteProperty:function(e,t){var n=Reflect.get(e,t),r=null==n?void 0:n[i];r&&r.delete(j(t));var o=Reflect.deleteProperty(e,t);return o&&y(["delete",[t],n]),o},is:Object.is,canProxy:d,set:function(t,n,o,s){var c,l,d=Reflect.has(t,n),p=Reflect.get(t,n,s);if(d&&this.is(p,o))return!0;var m,h=null==p?void 0:p[i];return h&&h.delete(j(n)),f(o)&&(o=r.getUntracked(o)||o),null!=(c=Object.getOwnPropertyDescriptor(t,n))&&c.set?m=o:o instanceof Promise?m=o.then((function(e){return m[a]=e,y(["resolve",[n],e]),e})).catch((function(e){m[u]=e,y(["reject",[n],e])})):null!=(l=o)&&l[i]?(m=o)[i].add(v(n)):this.canProxy(o)?(m=e(o))[i].add(v(n)):m=o,Reflect.set(t,n,m,s),y(["set",[n],o,p]),!0}},w=new Proxy(P,E);return p.set(t,w),Reflect.ownKeys(t).forEach((function(e){var n=Object.getOwnPropertyDescriptor(t,e);n.get||n.set?Object.defineProperty(P,e,n):w[e]=t[e]})),w},t.ref=function(e){return l.add(e),e},t.snapshot=function(e){return e[s]},t.subscribe=function(e,t,n){var r,o=[],s=function(e){o.push(e),n?t(o.splice(0)):r||(r=Promise.resolve().then((function(){r=void 0,t(o.splice(0))})))};return e[i].add(s),function(){e[i].delete(s)}}},33:function(e,t,n){"use strict";n.d(t,"c",(function(){return s})),n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return f})),n.d(t,"d",(function(){return d}));var r=n(38),o=n(1);function i(e){const t=Object(o.o)(e).find(e=>e.startsWith("o-"))||"",n=parseInt(t.replace("o-",""));return isNaN(n)?9999:n}function s(e){return e.children.filter(e=>Object(o.o)(e).includes("step")).sort((e,t)=>i(e)-i(t))}function c(e){if("SOLID"===e.type){let{r:t,g:n,b:r}=e.color;return t=Math.round(255*t),n=Math.round(255*n),r=Math.round(255*r),{r:t,g:n,b:r,a:1}}return{r:166,g:166,b:166,a:1}}function a({r:e,g:t,b:n,a:r}){return`rgba(${e}, ${t}, ${n}, ${r})`}function u(e){const t={r:0,g:0,b:0,a:0};let n=t,r=t;const i=Object(o.f)(e)[0];return"fills"in i&&i.fills!==figma.mixed&&i.fills.length>0&&(n=c(i.fills[0])),"strokes"in i&&i.strokes.length>0&&(r=c(i.strokes[0])),{fillsColor:a(n),strokesColor:a(r)}}function l(){const e=Object(o.k)();return s(e).map(t=>({id:t.id,name:t.name,colors:u(t),layerNumber:e.children.indexOf(t)+1}))}function f(e){const t=Object(o.k)();e.forEach((e,n)=>{const r=t.findOne(t=>t.id==e.id);r&&Object(o.t)(r,n+1)})}function d(){let e=Object(r.b)()+1;s(Object(o.k)()).filter(e=>!Object(o.o)(e).some(e=>e.startsWith("o-"))).forEach((t,n)=>Object(o.t)(t,n+e))}},34:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),o=n(120),i=n(163),s=n(165);function c(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var a=c(i).default.useSyncExternalStore;Object.defineProperty(t,"getVersion",{enumerable:!0,get:function(){return s.getVersion}}),Object.defineProperty(t,"proxy",{enumerable:!0,get:function(){return s.proxy}}),Object.defineProperty(t,"ref",{enumerable:!0,get:function(){return s.ref}}),Object.defineProperty(t,"snapshot",{enumerable:!0,get:function(){return s.snapshot}}),Object.defineProperty(t,"subscribe",{enumerable:!0,get:function(){return s.subscribe}}),Object.defineProperty(t,"unstable_getHandler",{enumerable:!0,get:function(){return s.getHandler}}),t.useSnapshot=function(e,t){var n=null==t?void 0:t.sync,i=r.useRef(),c=r.useRef(),u=!0,l=a(r.useCallback((function(t){var r=s.subscribe(e,t,n);return t(),r}),[e,n]),(function(){var t=s.snapshot(e);try{if(!u&&i.current&&c.current&&!o.isChanged(i.current,t,c.current,new WeakMap))return i.current}catch(e){}return t}),(function(){return s.snapshot(e)}));u=!1;var f=new WeakMap;r.useEffect((function(){i.current=l,c.current=f}));var d=r.useMemo((function(){return new WeakMap}),[]);return o.createProxy(l,f,d)}},38:function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return d})),n.d(t,"d",(function(){return p})),n.d(t,"e",(function(){return h})),n.d(t,"c",(function(){return g}));var r=n(33),o=n(1);function i(e,t){const{name:n,x:r,y:o,width:i=40,height:s=40}=t;e.name=n,e.x=r,e.y=o,e.resize(i,s)}function s(e){e.fills=[{type:"SOLID",color:{r:196/255,g:196/255,b:196/255}}]}function c(e,t){const{maxWidth:n,maxHeight:r}=t,o=e.width<=n&&e.height<=r;if(("FRAME"===e.type||"RECTANGLE"===e.type||"VECTOR"===e.type)&&!o){const t=Math.min(n/e.width,r/e.height);e.rescale(t)}return e}function a(e){const t=figma.createRectangle();s(t);const n=figma.group([t],e);n.name="template";i(figma.group([n],e),{name:"step s-multistep-result",x:10,y:60})}function u(){const e=figma.currentPage;if(1!==e.children.length)return;const t=e.children[0],n=figma.createFrame();i(n,{name:"lesson",x:-461,y:-512,width:1366,height:1024});const o=figma.createFrame();i(o,{name:"thumbnail",x:-901,y:-512,width:400,height:400});const u=t.clone();u.name="image";const l=c(t,{maxWidth:n.width-166,maxHeight:n.height-24}),f=figma.group([u],n);f.name="input";i(figma.group([f],n),{name:"step s-multistep-brush",x:(n.width-l.width)/2,y:(n.height-l.height)/2,width:l.width,height:l.height});const d=t.clone();d.name="image";const p=c(d,{maxWidth:o.width-70,maxHeight:o.height-70});i(figma.group([d],o),{name:"thumbnail group",x:(o.width-p.width)/2,y:(o.height-p.height)/2,width:p.width,height:p.height}),a(n);const m=figma.createEllipse();s(m),i(m,{name:"settings capture-color zoom-scale-2 order-layers",x:10,y:10}),n.appendChild(m),t.remove(),Object(r.d)()}function l(e){let{r:t,g:n,b:r}=e;return t=Math.round(255*t),n=Math.round(255*n),r=Math.round(255*r),`rgb(${t}, ${n}, ${r})`}function f(e,t,n){if(!t.length)return;!function(e){let t=!e.find(e=>"fills"in e&&e.fills!==figma.mixed&&e.fills.length>0);for(let n of e)n.name="rgb-template "+(t&&e.length>3?"draw-line":"blink")}(t);const r=figma.group(t,e);r.name="input";const i=figma.group([r],e,n);return function(e){const t=Object(o.f)(e);let n=t.filter(e=>"fills"in e&&e.fills!==figma.mixed&&e.fills.length>0),r=t.filter(e=>"strokes"in e&&e.strokes.length>0),i=n.length>0?"bg":"brush",s=r.map(e=>e.strokeWeight||0),c=Math.max(...s),a=r.length>0?c:25;e.name=`step s-multistep-${i} bs-${a}`}(i),i}function d(){const e=Object(r.a)().map(e=>Object(o.n)(e)).filter(e=>void 0!==e);return Math.max(...e,0)}function p(){const e=figma.currentPage.selection,t=e.filter(e=>!("children"in e));if(!t.length)return;const n=Object(o.i)(e[0],"step");if(Object(o.q)(n))return;const r=Object(o.k)(),i=f(r,t,Object(o.l)(n)),s=r.children.find(e=>Object(o.o)(e).includes("s-multistep-result")),c=d();c>0&&(Object(o.t)(s,c+1),Object(o.t)(i,c))}function m(e,t,n){e.has(t)||e.set(t,[]),e.get(t).push(n)}function h(){const e=figma.currentPage.selection;if(!e.length)return;const t=Object(o.i)(e[0],"step"),n=Object(o.k)(),i=Object(o.f)(t);if(!t||Object(o.q)(t)||i.length<=1)return;let s=new Map,c=new Map,u=[];Object(o.f)(t).forEach(e=>{"fills"in e&&e.fills!==figma.mixed&&e.fills.length>0&&"SOLID"===e.fills[0].type?m(s,l(e.fills[0].color),e):"strokes"in e&&e.strokes.length>0&&"SOLID"===e.strokes[0].type?m(c,l(e.strokes[0].color),e):u.push(e)});for(let e of s.values())f(n,e);for(let e of c.values())f(n,e);u.length>0&&f(n,u);const d=n.children.find(e=>Object(o.o)(e).includes("s-multistep-result"));d&&d.remove(),a(n),t.removed||t.remove(),Object(r.d)()}function g(){const e=figma.currentPage.selection,t=e.every(e=>Object(o.o)(e).includes("step")),n=e.filter(e=>!Object(o.q)(e));if(!t||n.length<2)return;const r=n.map(e=>e.children.filter(e=>"input"===e.name&&"GROUP"===e.type)).flat().map(e=>e.children).flat(),i=Object(o.k)(),s=Object(o.l)(n[0]),c=Object(o.n)(n[0]),a=f(i,r,s);c&&Object(o.t)(a,c)}},43:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return s}));const r={};let o=0;function i(e,t){const n=""+o;return o+=1,r[n]={handler:t,name:e},function(){delete r[n]}}const s="undefined"==typeof window?function(e,...t){figma.ui.postMessage([e,...t])}:function(e,...t){window.parent.postMessage({pluginMessage:[e,...t]},"*")};function c(e,t){for(const n in r)r[n].name===e&&r[n].handler.apply(null,t)}"undefined"==typeof window?figma.ui.onmessage=function(...e){var t;if(null===(t=e[0])||void 0===t?void 0:t.jsonrpc)return;const[n,...r]=e[0];c(n,r)}:setTimeout(()=>{const e=window.onmessage;window.onmessage=function(...t){e.apply(window,t);const n=t[0];if(!Array.isArray(n.data.pluginMessage))return;const[r,...o]=n.data.pluginMessage;c(r,o)}},100)},45:function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"e",(function(){return f})),n.d(t,"c",(function(){return w})),n.d(t,"b",(function(){return S})),n.d(t,"d",(function(){return k}));var r=n(1),o=n(13),i=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{a(r.next(e))}catch(e){i(e)}}function c(e){try{a(r.throw(e))}catch(e){i(e)}}function a(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,c)}a((r=r.apply(e,t||[])).next())}))};let s=[],c=1,a=12.8,u="steps";var l;function f(e){var t;(null===(t=s[e])||void 0===t?void 0:t.page)&&(figma.currentPage=s[e].page),setTimeout(()=>{var t;(null===(t=s[e])||void 0===t?void 0:t.node)&&(s[e].page.selection=[s[e].node])},0)}function d(){return i(this,void 0,void 0,(function*(){const e=yield figma.clientStorage.getAsync("errorsForPrint");let t=s.sort((e,t)=>e.level-t.level).map(e=>{var t,n,o;const i=Object(r.n)(Object(r.i)(e.node,"step"))||Object(r.n)(e.node);return{ignore:e.ignore,pageName:null===(t=e.page)||void 0===t?void 0:t.name,nodeName:null===(n=e.node)||void 0===n?void 0:n.name,nodeType:null===(o=e.node)||void 0===o?void 0:o.type,error:e.error,level:e.level,stepNumber:i}});return e&&(t=t.map(t=>{const n=e.find(e=>e.pageName===t.pageName&&e.nodeName===t.nodeName&&e.error===t.error);return n&&(t.ignore=n.ignore),t})),f(0),t}))}function p(e,t,n,r,o=l.ERROR){return e||s.push({node:r,page:n,error:t,level:o}),e}function m(e){return e.children?e.children.flatMap(e=>m(e)):[e]}!function(e){e[e.ERROR=0]="ERROR",e[e.WARN=1]="WARN",e[e.INFO=2]="INFO"}(l||(l={}));const h=/^\/|^draw-line$|^blink$|^rgb-template$|^d\d+$|^r\d+$|^flip$|^[vV]ector$|^\d+$|^Ellipse$|^Rectangle$|^fly-from-bottom$|^fly-from-left$|^fly-from-right$|^appear$|^wiggle-\d+$/;function g(e,t){let n=Object(r.o)(t);const o=Object(r.p)(t),i=Object(r.j)(t,/^draw-line$|^blink$/)||Object(r.i)(t,"draw-line")||Object(r.i)(t,"blink");p(1==t.opacity||!o,"Must be opaque",e,t,l.INFO),p(t.visible,"Must be visible",e,t),p(n.length>0,"Name must not be empty. Use slash to /ignore.",e,t),n.forEach(n=>{p(h.test(n),`Tag '${n}' unknown. Use slash to /ignore.`,e,t)});let s=t.fills,c=t.strokes;p(!s.length||!c.length||!o,"Should not have fill+stroke",e,t,l.WARN),function(e,t,n){const o=Object(r.p)(e),i=Object(r.j)(e,/^draw-line/);n.forEach(n=>{p(n.visible,"Stroke must be visible",t,e),p("SOLID"==n.type||!o,"Stroke must be solid",t,e),"IMAGE"===n.type&&p(1==n.opacity||!o,"Image stroke must be opaque",t,e,l.INFO)}),p(!n.length||/ROUND|NONE/.test(String(e.strokeCap))||!o,`Stroke caps must be 'ROUND' but are '${String(e.strokeCap)}'`,t,e),p("CENTER"==e.strokeAlign||!o||!n.length,`Stroke align must be 'CENTER' but is '${String(e.strokeAlign)}'`,t,e),p(!n.length||"ROUND"==e.strokeJoin||!o,`Stroke joins should be 'ROUND' but are '${String(e.strokeJoin)}'`,t,e,l.INFO),p(!i||!function(e){if(!e.vectorNetwork)return!1;const{segments:t}=e.vectorNetwork,n=t.map(e=>e.start),r=t.map(e=>e.end),o=n.filter(e=>!r.includes(e)),i=r.filter(e=>!n.includes(e));return o.length+i.length>2}(e),"Split vector or change animation",t,e)}(t,e,c),function(e,t,n){const o=Object(r.p)(e),i=Object(r.j)(e,/^draw-line/);n.forEach(n=>{p(n.visible,"Fill must be visible",t,e),p("SOLID"==n.type||!o,"Fill must be solid",t,e),p(!i||!o,"Fills cant be used with draw-line tag",t,e),"IMAGE"===n.type&&p(1==n.opacity||!o,"Image fill must be opaque",t,e,l.INFO)})}(t,e,s),p(!o||!!i,"Must have 'blink' or 'draw-line'",e,t,l.ERROR)}const b=/^\/|^blink$|^rgb-template$|^d\d+$|^r\d+$|^fly-from-bottom$|^fly-from-left$|^fly-from-right$|^appear$|^wiggle-\d+$|^draw-line$|^\d+$|^[gG]roup$/;function y(e,t){p("GROUP"==t.type,"Must be 'GROUP' type'",e,t)&&(p(1==t.opacity,"Must be opaque",e,t),p(t.visible,"Must be visible",e,t),p(/^input$|^background$/.test(t.name),"Must be 'input'",e,t),Object(r.c)(t).forEach(t=>{/GROUP|BOOLEAN_OPERATION|FRAME/.test(t.type)?function(e,t){let n=Object(r.o)(t);n.forEach(n=>{p(b.test(n),`Tag '${n}' unknown`,e,t)});const o=Object(r.p)(t),i=n.find(e=>/^blink$/.test(e))||Object(r.i)(t,"blink");p(!/BOOLEAN_OPERATION/.test(t.type),"Notice BOOLEAN_OPERATION",e,t,l.INFO),p(1==t.opacity,"Must be opaque",e,t,l.WARN),p(t.visible,"Must be visible",e,t),p(n.length>0,"Name must not be empty. Use slash to /ignore.",e,t),p(!o||!!i,"Must have 'blink'",e,t)}(e,t):/RECTANGLE|ELLIPSE|VECTOR|TEXT/.test(t.type)?g(e,t):p(!1,"Must be 'FRAME/GROUP/VECTOR/RECTANGLE/ELLIPSE/TEXT' type",e,t)}))}const O=/^\/|^settings$|^capture-color$|^zoom-scale-\d+$|^order-layers$|^s-multistep-bg-\d+$|^s-multistep-result$|^s-multistep$|^s-multistep-brush-\d+$|^brush-name-\w+$|^ss-\d+$|^bs-\d+$/;const v=/^\/|^step$|^s-multistep-bg-\d+$|^s-multistep-result$|^s-multistep-brush$|^s-continue$|^s-multistep-brush-\d+$|^s-multistep-bg$|^brush-name-\w+$|^clear-layer-(\d+,?)+$|^ss-\d+$|^bs-\d+$|^o-\d+$|^allow-undo$|^share-button$|^clear-before$|^tool-picker-(true|false)$|^brush-color-[0-9a-fA-F]{8}$/;function j(e,t){var n,o,i;if(!p("GROUP"==t.type,"Must be 'GROUP' type'",e,t))return;p(1==t.opacity,"Must be opaque",e,t),p(t.visible,"Must be visible",e,t);const s=Object(r.o)(t);s.forEach(n=>{p(v.test(n),`Tag '${n}' unknown. Use slash to /ignore.`,e,t)});const f=s.find(e=>/^s-multistep-bg$|^s-multistep-bg-\d+$/.test(e)),d=s.find(e=>/^s-multistep-brush$|^s-multistep-brush-\d+$/.test(e)),h=parseInt(null===(n=s.find(e=>/^ss-\d+$/.test(e)))||void 0===n?void 0:n.replace("ss-","")),g=s.find(e=>/^o-\d+$/.test(e)),b=parseInt(null===(o=s.find(e=>/^bs-\d+$/.test(e)))||void 0===o?void 0:o.replace("bs-","")),O=null===(i=s.find(e=>/^brush-name-\w+$/.test(e)))||void 0===i?void 0:i.replace("brush-name-",""),j=Object(r.c)(t).filter(e=>null==e.children),P=j.reduce((e,t)=>Math.max(e,t.width,t.height),0);a=Math.max(b||a,a),p(!h||h>=20||P<=100,`Should not use ss<20 with long lines. Consider using bg template. ${P}>100`,e,t,l.INFO),p(!h||h>=20||j.length<=8,`Should not use ss<20 with too many lines. Consider using bg template. ${j.length}>8`,e,t,l.INFO),p(!b||b>=10||"pencil"==O,`Should not use bs<10. ${b}<10`,e,t,l.INFO),p(!h||h>=15,"ss must be >= 15",e,t),p(!h||!b||h>b,"ss must be > bs",e,t),p(!b||b<=12.8*c,`bs must be <= ${12.8*c} for this zoom-scale`,e,t),p(!b||b>=.44*c,`bs must be >= ${.44*c} for this zoom-scale`,e,t),p(!g||"layers"==u,g+" must be used only with settings order-layers",e,t),p("layers"!==u||!!g,"Must have o-N order number",e,t);const E=t.findOne(e=>{var t;return(Object(r.o)(e).includes("rgb-template")||Object(r.i)(e,"rgb-template"))&&(null===(t=e.strokes)||void 0===t?void 0:t.length)>0}),w=t.findAll(e=>(Object(r.o)(e).includes("rgb-template")||Object(r.i)(e,"rgb-template"))&&e.fills&&e.fills[0]),S=w.filter(e=>e.width>27||e.height>27),k=w.length>0;p(!(f&&h&&E),"Should not use bg+ss (stroke present)",e,t,l.INFO),p(!(f&&h&&!E),"Should not use bg+ss (stroke not present)",e,t,l.WARN),p(!f||k,"bg step shouldn't be used without filled-in vectors",e,t,l.INFO),p(!d||0==S.length,"brush step shouldn't be used with filled-in vectors (size > 27)",e,t,l.INFO),t.children.forEach(t=>{/^input$|^background$/.test(t.name)?y(e,t):"template"===t.name||p(!1,"Must be 'input', 'background' or 'template'",e,t)});const $=Object(r.e)(t,e=>void 0!==Object(r.o)(e).find(e=>/^blink$/.test(e))).flatMap(m),x=$.find(e=>e.fills[0]);p(0==$.length||!!x||$.length>3,"Should use draw-line if < 4 lines",e,$[0],l.INFO)}function P(e,t){if(!p("FRAME"==t.type,"Must be 'FRAME' type",e,t))return;p(1==t.opacity,"Must be opaque",e,t),p(t.visible,"Must be visible",e,t),p(1366==t.width&&1024==t.height,"Must be 1366x1024",e,t),p(!!t.children.find(e=>Object(r.o)(e).includes("s-multistep-result")),"Must have 's-multistep-result' child",e,t,l.WARN);let n=t.children.find(e=>e.name.startsWith("settings"));n&&function(e,t){var n;p("ELLIPSE"==t.type,"Must be 'ELLIPSE' type'",e,t),p(1==t.opacity,"Must be opaque",e,t),p(t.visible,"Must be visible",e,t);const o=Object(r.o)(t);o.forEach(n=>{p(O.test(n),`Tag '${n}' unknown`,e,t)}),u=o.find(e=>/^order-layers$/.test(e))?"layers":"steps",c=parseInt((null===(n=o.find(e=>/^zoom-scale-\d+$/.test(e)))||void 0===n?void 0:n.replace("zoom-scale-",""))||"1"),p(c>=1&&c<=5,`Must be 1 <= zoom-scale <= 5 (${c})`,e,t)}(e,n);let o={};for(let n of t.children){Object(r.o)(n).forEach(t=>{const r=/^o-(\d+)$/.exec(t);if(!r)return;const i=r[1];p(!o[i],`Must have unique ${t} values`,e,n),i&&(o[i]=1)})}for(let n of t.children)n.name.startsWith("step")?j(e,n):n.name.startsWith("settings")||p(!1,"Must be 'settings' or 'step'",e,n)}function E(e,t){p("FRAME"==t.type,"Must be 'FRAME' type",e,t)&&(p(1==t.opacity,"Must be opaque",e,t),p(400==t.width&&400==t.height,"Must be 400x400",e,t))}function w(e,t){return i(this,void 0,void 0,(function*(){if(!t){s=[];const e=Object(r.k)();yield Object(o.b)(),e&&Object(o.c)(e,!0)}const n=e||figma.currentPage;if(!/^\/|^INDEX$/.test(n.name)&&(Object(o.f)({displayMode:"all",stepNumber:1},n),p(/^[a-z\-0-9]+$/.test(n.name),`Page name '${n.name}' must match [a-z\\-0-9]+. Use slash to /ignore.`,n))){p(1==n.children.filter(e=>/^thumbnail$/.test(e.name)).length,"Must contain exactly 1 'thumbnail'",n),p(1==n.children.filter(e=>/^lesson$/.test(e.name)).length,"Must contain exactly 1 'lesson'",n);for(let e of n.children)"lesson"==e.name?P(n,e):"thumbnail"==e.name?E(n,e):p(/^\//.test(e.name),"Must be 'thumbnail' or 'lesson'. Use slash to /ignore.",n,e,l.WARN);return d()}}))}function S(){return i(this,void 0,void 0,(function*(){s=[];const e=Object(r.k)();e&&Object(o.c)(e,!0),p(/^COURSE-[a-z\-0-9]+$/.test(figma.root.name),`Course name '${figma.root.name}' must match COURSE-[a-z\\-0-9]+`);const t=figma.root.children.find(e=>"INDEX"==e.name);var n;p(!!t,"Must have 'INDEX' page")&&p(1==(n=t).children.length,"Index page must contain exactly 1 element",n)&&(p(1==n.children.filter(e=>/^thumbnail$/.test(e.name)).length,"Must contain exactly 1 'thumbnail'",n),E(n,n.children[0]));figma.root.children.filter((e,t,n)=>n.findIndex(t=>t.name==e.name)!=t).forEach(e=>p(!1,`Page name '${e.name}' must be unique`,e));for(let e of figma.root.children)w(e,!0);return d()}))}function k(e){return figma.clientStorage.setAsync("errorsForPrint",e)}},5:function(e,t,n){"use strict";n.d(t,"a",(function(){return b})),n.d(t,"b",(function(){return y}));var r=n(95),o=n(1),i=n(33),s=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{a(r.next(e))}catch(e){i(e)}}function c(e){try{a(r.throw(e))}catch(e){i(e)}}function a(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,c)}a((r=r.apply(e,t||[])).next())}))};function c(){const e=Object(o.k)();return Object(i.c)(e).flatMap(e=>Object(o.e)(e,e=>"TEXT"===e.type)).filter(e=>e.visible)}function a(e){return e.getStyledTextSegments(["fontSize","fontName","fontWeight","textDecoration","textCase","lineHeight","letterSpacing","fills","textStyleId","fillStyleId","listOptions","indentation","hyperlink"])}const u={"\\\\":"\\","\\n":"\n",'\\"':'"',"\\l":"|"};function l(e){return a(e).map(e=>e.characters.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\|/g,"\\l").replace(/\n/g,"\\n")).join("|").trimEnd()}var f=n(84),d=n(38),p=n(45),m=n(13),h=n(6),g=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{a(r.next(e))}catch(e){i(e)}}function c(e){try{a(r.throw(e))}catch(e){i(e)}}function a(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,c)}a((r=r.apply(e,t||[])).next())}))};const b=Object(r.createPluginAPI)({setSessionToken:e=>figma.clientStorage.setAsync("sessionToken",e),getSessionToken(){return g(this,void 0,void 0,(function*(){return figma.clientStorage.getAsync("sessionToken")}))},exportLesson:f.b,exportCourse:f.a,getSteps:i.a,setStepsOrder:i.b,exportTexts:function(){return c().map(e=>l(e)).filter(e=>e.length>0).filter((e,t,n)=>n.indexOf(e)===t)},importTexts:function(e){return s(this,void 0,void 0,(function*(){if(0===Object.keys(e).length)return void Object(o.d)("Empty input");const t=c();yield function(e){return s(this,void 0,void 0,(function*(){const t=[];e.forEach(e=>{a(e).map(e=>{t.push(e.fontName)})});const n=t.filter((e,t,n)=>t===n.findIndex(t=>t.family===e.family&&t.style===e.style));for(let e of n)try{yield figma.loadFontAsync(e)}catch(e){console.log(e)}}))}(t),t.forEach(t=>{const n=l(t),r=e[n];if(void 0===r)return;let i;const s=n.split("|"),c=r.split("|").map(e=>{const t=function(e){return e.match(/\|/)||e.match(/(?<!\\)"/)?null:e.replace(/\\(\\|n|"|l)/g,(function(e){return u[e]}))}(e);return null===t&&(i="Failed to unescape: "+e),t});1!==c.length||""!==c[0]?(c.length!==s.length&&(i=`Wrong segment count (${c.length} ≠ ${s.length}): ${n}`),i?Object(o.d)(i):function(e,t){for(let n=e.length-1;n>=0;n--){const r=e[n];let o=a(t);r.length>0&&t.insertCharacters(o[n].end,r,"BEFORE"),t.deleteCharacters(o[n].start,o[n].end)}}(c,t)):t.characters=""})}))},displayNotification:o.d,createLesson:d.a,separateStep:d.d,splitByColor:d.e,joinSteps:d.c,selectError:p.e,saveErrors:p.d,selectionChanged:m.e,currentPageChanged:m.a,updateDisplay:m.f,lintPage:p.c,lintCourse:p.b,resizeUi:o.s,updateProps:m.g,selectNextBrushStep:m.d,displayAll:m.c},{timeout:1e6}),y=Object(r.createUIAPI)({setAnimationTags(e,t,n){h.a.setAnimationTags(e,t,n)},updateUiProps(e){h.a.updateProps(e)},setStepNavigationProps(e,t){h.a.setStepNavigationProps(e,t)}},{timeout:1e6})},6:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(34),o=n(5),i=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{a(r.next(e))}catch(e){i(e)}}function c(e){try{a(r.throw(e))}catch(e){i(e)}}function a(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,c)}a((r=r.apply(e,t||[])).next())}))};let s=!1;const c=Object(r.proxy)({stepProps:{shadowSize:0,brushSize:0,suggestedBrushSize:0,stepCount:1,template:"",clearBefore:!1,clearLayers:[],otherTags:[],brushType:""},animationProps:{animationTag:void 0,delay:0,repeat:0},stepNavigationProps:{stepNumber:1,displayMode:"all"},setAnimationTags(e,t,n){return i(this,void 0,void 0,(function*(){s=!0,c.animationProps.animationTag=e,c.animationProps.delay=t,c.animationProps.repeat=n,setTimeout(()=>{s=!1},10)}))},updateProps(e){return i(this,void 0,void 0,(function*(){s=!0;for(const t in e)c.stepProps[t]=e[t];setTimeout(()=>{s=!1},10)}))},setStepNavigationProps(e,t){return i(this,void 0,void 0,(function*(){s=!0,c.stepNavigationProps.stepNumber=e,c.stepNavigationProps.displayMode=t,setTimeout(()=>{s=!1},10)}))}});Object(r.subscribe)(c.stepProps,()=>i(void 0,void 0,void 0,(function*(){s||(yield o.a.updateProps(Object.assign(Object.assign({},JSON.parse(JSON.stringify(c.stepProps))),JSON.parse(JSON.stringify(c.animationProps)))),yield o.a.updateDisplay(JSON.parse(JSON.stringify(c.stepNavigationProps))))}))),Object(r.subscribe)(c.stepNavigationProps,()=>{s||o.a.updateDisplay(JSON.parse(JSON.stringify(c.stepNavigationProps)))}),Object(r.subscribe)(c.animationProps,()=>{s||o.a.updateProps(Object.assign(Object.assign({},JSON.parse(JSON.stringify(c.stepProps))),JSON.parse(JSON.stringify(c.animationProps))))})},655:function(e,t,n){"use strict";n.r(t);n(38);var r=n(13),o=n(43),i=n(1);Object(o.b)("autoFormat",(function(){const e=figma.root.children.find(e=>"THUMBNAILS"==e.name.toUpperCase());e&&figma.root.children.forEach(t=>{const n=e.children.find(e=>e.name==t.name);if(t.children.find(e=>"thumbnail"==e.name)||!n)return;const r=n.clone();r.resize(400,400),r.name="thumbnail",t.appendChild(r)}),figma.root.children.forEach(e=>{const t=e.children.find(t=>t.name==e.name);t&&(t.name="lesson");const n=e.children.find(e=>"thumbnail"==e.name),r=e.children.find(e=>"lesson"==e.name);n&&r&&(n.x=r.x-440,n.y=r.y)}),Object(i.e)(figma.root,e=>/^settings/.test(e.name)).forEach(e=>{e.resize(40,40),e.x=10,e.y=10}),Object(i.e)(figma.root,e=>"TEXT"==e.type).forEach(e=>{Object(i.a)(e,"no-mirror")}),Object(i.e)(figma.root,e=>/^step s-multistep-result/.test(e.name)).forEach(e=>{e.children[0].name="template",e.children[0].children[0].name="/ignore",e.resize(40,40),e.x=10,e.y=60})})),Object(o.b)("formatOrder",()=>function(e){if(e.findChild(e=>!!Object(i.o)(e).find(e=>/^o-/.test(e))))return void console.log("Found o-tag. formatOrder abort.");let t=e.findChild(e=>Object(i.o)(e).includes("settings"));Object(i.a)(t,"order-layers");const n=/^(s-multistep-brush-|s-multistep-bg-)(\d+)$/,r=e.findChildren(e=>Object(i.o)(e).includes("step")&&!Object(i.o)(e).includes("s-multistep-result")),o=e.findChild(e=>Object(i.o)(e).includes("s-multistep-result"));Object(i.a)(o,"o-"+(r.length+1)),r.reverse().forEach((e,t)=>{let r=Object(i.o)(e);const o=r.find(e=>n.test(e));let s=4;o&&(s=parseInt(n.exec(o)[2]),r=r.filter(e=>!n.test(e)),r.splice(1,0,/^(s-multistep-brush|s-multistep-bg)/.exec(o)[1])),e.setPluginData("layer",JSON.stringify(s)),r.push("o-"+(t+1)),e.name=r.join(" ")}),r.sort((e,t)=>JSON.parse(t.getPluginData("layer"))-JSON.parse(e.getPluginData("layer"))).forEach(t=>e.insertChild(1,t))}(Object(i.k)()));n(45),n(84),n(5);figma.showUI(__html__),figma.ui.resize(340,470),console.clear(),figma.on("selectionchange",()=>{Object(r.e)()}),figma.on("currentpagechange",()=>{Object(r.a)(figma.currentPage)}),setTimeout(()=>{Object(r.f)({displayMode:"all",stepNumber:1},figma.currentPage)},1500)},84:function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return c}));var r=n(43),o=n(1),i=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{a(r.next(e))}catch(e){i(e)}}function c(e){try{a(r.throw(e))}catch(e){i(e)}}function a(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,c)}a((r=r.apply(e,t||[])).next())}))};function s(e,t){return i(this,void 0,void 0,(function*(){e||(e=figma.currentPage);const n=figma.root.children.indexOf(e),r=e.children.find(e=>"lesson"==e.name),o=e.children.find(e=>"thumbnail"==e.name);if(!r)return;const i=yield r.exportAsync({format:"SVG",svgOutlineText:t,svgIdAttribute:!0}),s=yield o.exportAsync({format:"PNG",constraint:{type:"WIDTH",value:600}});return{coursePath:figma.root.name.replace("COURSE-",""),path:e.name,file:i,thumbnail:s,index:n}}))}function c(e){return i(this,void 0,void 0,(function*(){Object(o.e)(figma.root,e=>e.name.startsWith("tmp-")).forEach(e=>{e.remove()}),Object(o.e)(figma.root,e=>!!e).forEach(e=>{"visible"in e&&(e.visible=!0)});const[t,n]=yield Promise.all([Promise.all(figma.root.children.filter(e=>"INDEX"!=e.name).map(t=>s(t,e))),figma.root.children.find(e=>"INDEX"==e.name).exportAsync({format:"PNG",constraint:{type:"WIDTH",value:600}})]);return{path:figma.root.name.replace("COURSE-",""),lessons:t,thumbnail:n}}))}Object(r.b)("generateCode",(function(){const e=function(){const e=figma.root.name.replace(/COURSE-/,"");let t=e.split("-").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join("");t=t.charAt(0).toLowerCase()+t.slice(1);let n="";for(let t of figma.root.children)"INDEX"!=t.name.toUpperCase()&&(n+=`Task(path: "${e}/${t.name}", pro: true),\n`);return`\n    let ${t} = Course(\n    path: "${e}",\n    author: REPLACE,\n    tasks: [\n${n}    ])\n`}()+function(){const e=figma.root.name.replace(/COURSE-/,"");let t="";for(let n of figma.root.children)"INDEX"!=n.name.toUpperCase()&&(t+=`"task-name ${e}/${n.name}" = "${Object(o.b)(n.name.split("-").join(" "))}";\n`);return`\n"course-name ${e}" = "${Object(o.b)(e.split("-").join(" "))}";\n"course-description ${e}" = "In this course:\n    • \n    • \n    • ";\n${t}\n`}();Object(o.r)(e)}))},95:function(e,t,n){const{setup:r,sendRequest:o}=n(162);e.exports.createUIAPI=function(e,t){const n=t&&t.timeout;return"undefined"!=typeof parent&&r(e),Object.keys(e).reduce((t,r)=>(t[r]=(...t)=>"undefined"!=typeof parent?Promise.resolve().then(()=>e[r](...t)):o(r,t,n),t),{})},e.exports.createPluginAPI=function(e,t){const n=t&&t.timeout;return"undefined"!=typeof figma&&r(e),Object.keys(e).reduce((t,r)=>(t[r]=(...t)=>"undefined"!=typeof figma?Promise.resolve().then(()=>e[r](...t)):o(r,t,n),t),{})}}});